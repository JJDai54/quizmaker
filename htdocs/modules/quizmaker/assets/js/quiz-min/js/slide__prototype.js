class quizPrototype{name="quizPrototype";divMainId="";question=Object;typeName='';chrono=0;slideNumber=0;timer=0;scoreMiniBP=0;scoreMaxiBP=0;points=0;reponseOk=0;isAntiseche=false;data=[];focusId='';boolDog=false;questionNumber=0;stats={scoreMin:0,repondu:0,score:0};constructor(question=null,chrono=0){this.name=question.type;this.question=question;this.typeName=question.type;this.typeQuestion=question.type;this.typeForm=question.typeForm;this.chrono=chrono;this.divMainId=this.getId('main');this.getOptionsDefaults();this.prepareData();this.computeScoresMinMax();}build(){}getObDivMain(){return document.getElementById(this.divMainId);}getChildById(id){return document.getElementById(id);}getQuerySelector(balise,name="",typeObj="",extra="",extra2=""){var selector=balise;if(name!='')selector+=`[name=${name}]`;if(typeObj!='')selector+=`[type=${typeObj}]`;if(extra!=''){if(extra[0]=="["){selector+=`${extra}`}else{selector+=`:${extra}`}}if(extra2!=''){if(extra2[0]=="["){selector+=`${extra2}`}else{selector+=`:${extra2}`}}return document.getElementById(this.divMainId).querySelectorAll(selector);}getOptionsDefaults(){var currentQuestion=this.question;if(!currentQuestion.options){currentQuestion.options=Object.create(currentQuestion.optionsDefault);return true;}var arr=[];var keys=Object.keys(currentQuestion.optionsDefault);keys.forEach((key,index)=>{if(currentQuestion.options[key]){arr[key]=currentQuestion.options[key];}else{arr[key]=currentQuestion.optionsDefault[key];}});currentQuestion.options=Object.create(arr);return true;}initSlide(){return false;}build_footer(){return "<center>construction du footer</center>";}submitAnswers(){return false;}isQuestion(){return true;}getName(){return `question-${this.name}-${this.chrono}`;}getId(index,indexElement=null){var id=`question-${this.name}-${this.chrono}-${index}`;if(indexElement!=null){id+='-'+indexElement};return id;}prepareData(){}getImage(){var name=this.getName();var currentQuestion=this.question;if(currentQuestion.image){return `<center><img src="${quiz_config.urlQuizImg}/${currentQuestion.image}" alt="" title="" height="${currentQuestion.height}px"></center>`;}else{return "";}}setFocus(){if(this.focusId!=''){try{document.getElementById(this.focusId).focus({focusVisible:false});}catch{}}}shuffleArray(arr){try{if(this.question.options.shuffleAnswers==1){var arr=shuffleArray(arr);}}catch{}return arr;}shuffleArrayKeys(arr){try{if(this.question.options.shuffleAnswers==1){arr=shuffleArrayKeys(arr);}}catch{if(this.question.shuffleAnswers==1){arr=shuffleArrayKeys(arr);}}return arr;}computeScoresMinMax(){var currentQuestion=this.question;this.computeScoresMinMaxByProposition();if(currentQuestion.points > 0){this.scoreMaxiQQ=currentQuestion.points;this.scoreMiniQQ=0;}else{this.scoreMaxiQQ=this.scoreMaxiBP;this.scoreMiniQQ=this.scoreMiniBP;}this.blob(`computeScoresMinMax BP [1]-${this.getName()}:${this.scoreMaxiBP}-${this.scoreMiniBP}`);this.blob(`computeScoresMinMax QQ [2]-${this.getName()}:${this.scoreMaxiQQ}-${this.scoreMiniQQ}`);return true;}computeScoresMinMaxByProposition(){return 0;}getScore(answerContainer){var points=0;var currentQuestion=this.question;var score=this.getScoreByProposition(answerContainer);this.blob(`getScore-${this.getName()}:${score}-${this.scoreMaxiBP}-${this.scoreMaxiQQ}`);if(currentQuestion.points > 0 && score==this.scoreMaxiBP){return currentQuestion.points}else if(currentQuestion.points > 0 && score!=0){return 0;}else{return score;}}getScoreInfos(){return{'question_min':this.scoreMiniBP,'question_max':this.scoreMaxiBP,'question_points':this.this.getScoreByProposition(0),'quiz_nb_answers':0,'quiz_nb_questions':0,'quiz_score':0,};}isInputOk(answerContainer){return true;}getAllReponses(flag=0){}getGoodReponses(){return this.getAllReponses(1);}getScoreMinMax(){return{'min':this.scoreMiniBP,'max':this.scoreMaxiBP};}static update(nameId,chrono){}incremente_question(nbQuestions){if(this.question.isQuestion==1){return nbQuestions+1;}else{return nbQuestions;}}getDisposition(disposition,tableId=null){}balises2Values(exp,bReplaceSlash=false){var newExp=exp.replaceAll("{scoreMaxiQQ}",this.scoreMaxiQQ);newExp=newExp.replaceAll("{timer}",this.question.timer);newExp=newExp.replaceAll('{','');newExp=newExp.replaceAll('}','');if(bReplaceSlash){newExp=newExp.replaceAll('/','<br>');}return newExp;}sanityse_question(bReplaceSlash=false){var newExp=this.balises2Values(this.question.question,true);return newExp;}reloadQuestion(bShuffle=true){document.getElementById(this.divMainId).innerHTML=this.getInnerHTML(bShuffle);}showGoodAnswers(currentQuestion,quizDivAllSlides){alert(currentQuestion.type+".showAntiSeche(currentQuestion,,quizDivAllSlides){}\n===> Fonction à developper")}showBadAnswers(currentQuestion,quizDivAllSlides){alert(currentQuestion.type+".showAntiSeche(currentQuestion,,quizDivAllSlides){}\n===> Fonction à developper")}toString(){return this.name+" | "+this.question.question;+" | "+this.question.typeQuestion;}blob(message){return true;if(!this.boolDog)return;if(Array.isArray(message)){console.log(`......................`);for(var i=0;i < t.length;i++){console.log(`>array:${i}:${t[i]}`);}}else{console.log(">>> "+this.getName()+":"+message);}}}