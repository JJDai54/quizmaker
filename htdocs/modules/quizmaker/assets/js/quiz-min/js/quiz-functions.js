var boolDog=true;var quizIsStarted=false;const statsTotal={quiz_score_max:0,quiz_score_min:0,quiz_questions:0,cumul_questions:0,cumul_max:0,cumul_min:0,cumul_score:0,cumul_timer:0,question_number:0,question_max:0,question_min:0,question_points:0};function sleep(){blob("===> sleep");}function getVersion(){var version=quiz_messages.version.replace('{name}',quiz_config.name).replace('{version}',quiz_config.version).replace('{date_release}',quiz_config.date_release).replace('{email}',quiz_config.email).replace('{author}',quiz_config.author);return version;}function alertId(currentQuestion,msg=""){alert(`${currentQuestion.quizId}/${currentQuestion.questId}`+"-"+msg);}function rnd(max=99,min=0){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min+1))+min;}function decodeHTMLEntities(text){var textArea=document.createElement('textarea');textArea.innerHTML=text;return textArea.value;}function getNumAlpha(index,mode=0,offset=0){switch(mode){case 1:return(index*1)+1+offset+quiz_messages.twoPoints;case 2:return String.fromCharCode((index*1)+65+offset)+quiz_messages.twoPoints;break;case 3:return String.fromCharCode((index*1)+65+offset).toLowerCase()+quiz_messages.twoPoints;break;case 0:default:return "";break;}}function duplicateArray(array){var tabLanguages_2=new Array();newArray=[];for(var i=0;i < array.length;i++){newArray[i]=array[i];}return newArray;}function shuffleIndexArr(nbIndex,bolShuffleArray=true,firstIndex=0){var tIndex=[];for(h=0;h < nbIndex;h++){tIndex.push(firstIndex+h);}if(bolShuffleArray){return shuffleArray(tIndex);}else{return tIndex;}}function shuffleArray2(array){var currentIndex=array.length,temporaryValue,randomIndex;var newArray=duplicateArray(array);while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=newArray[currentIndex];newArray[currentIndex]=newArray[randomIndex];newArray[randomIndex]=temporaryValue;}return newArray;}function shuffleArray(array){var newArray=duplicateArray(array);for(var i=newArray.length-1;i > 0;i--){var j=Math.floor(Math.random()*(i+1));var temp=newArray[i];newArray[i]=newArray[j];newArray[j]=temp;}return newArray;}function shuffleArrayFY(arr){for(var i=arr.length-1;i > 0;i--){var j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}}function shuffleArrayKeys(arrKeys){var keys=Object.keys(arrKeys);shuffleArrayFY(keys);var newArrKeys=[];for(var h=0;h < keys.length;h++){newArrKeys[keys[h]]=arrKeys[keys[h]];}return newArrKeys;}function conbineArrayKeys(arrKeys,arrValues){var newArrKeys=[];var newArrValues=padArray(arrValues,arrKeys.length);for(var h=0;h < arrKeys.length;h++){newArrKeys[arrKeys[h]]=newArrValues[h];}return newArrKeys;}function echoArrayKeys(arrKeys){for(var key in arrKeys){}}function padStr2Array(exp,length){sep=",";array=exp.toString().split(sep);for(i=array.length;i < length;i++){array[i]=array[array.length-1];}return array;}function padArray(array,length){for(i=array.length;i < length;i++){array[i]=array[array.length-1];}return array;}function sliceArray(arr){var middle=Math.trunc((arr.length/2));var arr1=arr.slice(0,middle);var arr2=arr.slice(-(arr.length-middle));return{'arr1':arr1,'arr2':arr2};}function shuffleNewArray(arraySource){array=duplicateArray(arraySource);var currentIndex=array.length,temporaryValue,randomIndex;while(0!==currentIndex){randomIndex=getRandomInt(currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue;}return array;}function getRandomInt(max,min=0){min=Math.ceil(min);max=Math.floor(max)+1;return Math.floor(Math.random()*(max-min))+min;}function formatChrono(chrono,tplFormatChrono="{minutes}:{secondes}"){var minutes=Math.floor(chrono/60);var expMinutes=minutes.toString().padStart(2,'0');var secondes=chrono-(minutes*60);var expSecondes=secondes.toString().padStart(2,'0');var tplFormatChrono=tplFormatChrono.replace("{minutes}",expMinutes);var tplFormatChrono=tplFormatChrono.replace("{secondes}",expSecondes);return tplFormatChrono;}function completeArrWithwordList(words,lstWordsToAdd="",sep=","){var tWordsB=lstWordsToAdd.split(sep);var tWordsAll=tWordsB.concat(words);return tWordsAll;}function transformTextWithToken(exp,tokenColor='#0000FF'){var ret={textOk:'',text:'',words:[],nbRows:0};var textOk='';ret.nbRows=exp.split("\n").length;exp=exp.replaceAll("\n","<br>");var regex=quiz_config.regexAllLettersPP;var tWordsA=exp.match(regex);tWordsA=[...new Set(tWordsA)];var tpl="<span style='color:{tokenColor};'>{word}</span>";var exp2=exp;for(var i in tWordsA){var token="{"+(i*1+1)+"}";var word=tpl.replace("{word}",token).replace("{tokenColor}",tokenColor);exp2=exp2.replaceAll(tWordsA[i],word);tWordsA[i]=tWordsA[i].replace("{","").replace("}","");}textOk=exp2;for(var i in tWordsA){var token="{"+(i*1+1)+"}";textOk=textOk.replaceAll(token,tWordsA[i]);}ret.text=exp2;ret.words=tWordsA;ret.textOk=textOk;return ret;}function getExpInAccolades(exp){var ret={textOk:'',text:'',words:[],nbRows:0};var regex=quiz_config.regexAllLettersPP;var tWordsA=exp.match(regex);tWordsA=[...new Set(tWordsA)];for(var i in tWordsA){tWordsA[i]=tWordsA[i].replace("{","").replace("}","");}return tWordsA;}function transformTextWithMask(exp,mask){var ret={textOk:'',text:'',words:[],nbRows:0};var textOk='';var regex=quiz_config.regexAllLettersPP;var tWordsA=exp.match(regex);tWordsA=[...new Set(tWordsA)];var exp2=exp.replaceAll('<br>',"\n");ret.nbRows=exp2.split("\n").length;for(var i in tWordsA){exp2=exp2.replaceAll(tWordsA[i],mask);tWordsA[i]=tWordsA[i].replace("{","").replace("}","");}var textOk=exp.replaceAll('{','').replaceAll('}','');ret.text=exp2;ret.words=tWordsA;ret.textOk=textOk;return ret;}function getObjectsByName(balise,name,typeObj="",extra="",extra2=""){var selector=`${balise}`;if(name!='')selector+=`[name=${name}]`;;if(typeObj!='')selector+=`[type=${typeObj}]`;if(extra!=''){if(extra[0]=="["){selector+=`${extra}`}else{selector+=`:${extra}`}}if(extra2!=''){if(extra2[0]=="["){selector+=`${extra2}`}else{selector+=`:${extra2}`}}var obs=document.querySelectorAll(selector);return obs;}function getObjectValueByName(name,balise,typeObj="",extra=""){var selector=`${balise}[name=${name}]`;if(typeObj!='')selector+=`[type=${typeObj}]`;if(extra!='')selector+=`:${extra}`;var value=(document.querySelector(selector)||{}).value;return value;}function getObjectById(id){var ob=document.getElementById(id);return ob;}function clearfillCollection(name,fillWithExp=""){var name=currentQuestion.answers[0].name;const selector=`input[name=${name}]`;const obs=document.querySelectorAll(selector);for(var i=0;i < obs.length;i++){obs[i].value=fillWithExp;}return true;}function getHtmlCombobox(name,id,tItems,extra="",addBlank=false){var tHtml=[];tHtml.push(`<SELECT id="${id}" name="${name}" ${extra}>`);if(addBlank){tHtml.push(`<OPTION VALUE="">`)}else{tHtml.push('<option value="" selected disabled hidden></option>');}for(var j=0;j < tItems.length;j++){tHtml.push(`<OPTION VALUE="${tItems[j]}">${tItems[j]}`);}tHtml.push(`</SELECT>`);return tHtml.join("\n");}function fillListObject(obList,tItems,itemDefault=-1,addBlank=false){if(typeof(obList)!=='object')obList=document.getElementById(obList);obList.innerHTML="";for(h=0;h < tItems.length;h++){var option=document.createElement("option");option.text=tItems[h];option.value=tItems[h];obList.add(option);}obList.selectedIndex=itemDefault;}function getHtmlRadio(name,tItems,itemDefault=-1,numerotation,offset=0,extra=""){var tHtml=[];for(var j=0;j < tItems.length;j++){var sel=(j==itemDefault)? "checked":"";tHtml.push(`<label><input type="radio" name="${name}" id="${name}-${j}" value="${j}" ${sel}${extra}caption="${tItems[j]}">${getNumAlpha(j*1,numerotation,offset)}${tItems[j]}</label><br>`);}return tHtml.join("\n");}function getHtmlCheckbox(name,tItems,itemDefault=-1,numerotation,offset,extra="",sep="<br>"){var tHtml=[];for(var j=0;j < tItems.length;j++){var sel=(j==itemDefault)? "checked":"";tHtml.push(`<label class="quiz" ><input type="checkbox" id="${name}-${j}" name="${name}" value="${j}" ${sel}${extra}caption="${tItems[j]}">${getNumAlpha(j*1,numerotation,offset)}${tItems[j]}</label>${sep}`);}return tHtml.join("\n");}function getHtmlListbox(name,id,tItems,nbRows,itemDefault=-1,numerotation,offset,extra=""){var tHtml=[];tHtml.push(`<SELECT id="${id}" name="${name}" class="question-combobox" size="${nbRows}" ${extra}" style='height:300px'>`);for(var j in tItems){tHtml.push(`<OPTION VALUE="${tItems[j]}">${tItems[j]}</OPTION>`);}tHtml.push(`</SELECT>`);return tHtml.join("\n");}function getHtmlTextbox(name,txtClass="",numerotation,offset,extra=""){var tHtml=[];for(var j=0;j < tItems.length;j++){tHtml.push(`<label>${getNumAlpha(j*1,numerotation,offset)}<input type="text" id="${name}-${j}" name="${name}" value="${tItems[j]}" class="${txtClass}" ${extra}></label>`);}return tHtml.join("\n");}function getHtmlTextbox1(name,tItems,txtClass="",numerotation,offset,extra=""){var tHtml=[];for(var j=0;j < tItems.length;j++){tHtml.push(`<label>${getNumAlpha(j*1,numerotation,offset)}<input type="text" id="${name}-${j}" name="${name}" value="${tItems[j]}" class="${txtClass}" ${extra}></label>`);}return tHtml.join("\n");}function getHtmlTextbox2(name,alength,txtClass="",numerotation,offset,extra=""){var tHtml=[];for(var j=0;j < alength;j++){tHtml.push(`<label>${getNumAlpha(j*1,numerotation,offset)}<input type="text" id="${name}-${j}" name="${name}" value="" class="${txtClass}" ${extra}></label>`);}return tHtml.join("\n");}function getHtmlTextbox3(name,tItems,nbInput,txtClass="",numerotation,offset,extra=""){var tHtml=[];for(var i=0;i < tItems.length;i++){tHtml.push(`<label>${getNumAlpha(i*1,numerotation,offset)}${tItems[i].caption}<br>`);for(var j=0;j < nbInput;j++){tHtml.push(`<input type="text" id="${name}-${j}" name="${name}" value="" class="${txtClass}" ${extra}>`);}tHtml.push(`</label>`);}return tHtml.join("\n");}function getHtmlSpan(name,tItems,numerotation=3,offset=0,extra="",spanClass='slide-label',sep="<br>"){var tHtml=[];for(var j=0;j < tItems.length;j++){tHtml.push(`<span class="${spanClass}" ${extra}>${getNumAlpha(j*1,numerotation,offset)}-${tItems[j]}</span>`);}return tHtml.join(sep+"\n");}function getHtmlSpan2(name,selecteur,tItems,numerotation=3,offset=0,extra="",sep="<br>"){var tHtml=[];for(var j=0;j < tItems.length;j++){tHtml.push(`<div ${extra}>${getNumAlpha(j*1,numerotation,offset)}-${tItems[j]}</div>`);}return tHtml.join(sep+"\n");}function formatReponseTD(arr,sep='===>',showUnite=false,colonneFalse=-1){var k=0;if(arr[k]=='<hr>'){return `<td colspan="${arr.length+2}">${arr[k]}</td>`;}var unite=(showUnite)? 'points':'';var styleGoodAns="color:blue;";if(colonneFalse >=0){var styleBadAns="color:red;background-color:#FFCCCC;";var styleAns=(arr[colonneFalse]*1 > 0)? styleGoodAns:styleBadAns;}else{var styleAns=styleGoodAns;}var tHtml=[];for(var k=0;k < arr.length;k++){var td=`<td style='${styleAns}'>${arr[k]}</td>`;if(k < arr.length-1)td+=`<td style='${styleAns}'>${sep}</td>`;if(unite!=='' && k==arr.length-1)td+=`<td style='${styleAns}'>${unite}</td>`;tHtml.push(td);}var tdArr=tHtml.join("\n");return `<tr style="background-color:yellow;">${tdArr}</tr>`;}function formatArray0(tReponses,sep='===>',showUnite=false,colonneFalse=-1){var tplTable="<table class='showResult'>{content}</table>";var tHtml=[];for(var k=0;k < tReponses.length;k++){tHtml.push(formatReponseTD(tReponses[k],sep,showUnite,colonneFalse));}return tplTable.replace("{content}",tHtml.join("\n"));;}function formatArray1(tReponses,sep='===>',unite="points"){var tplTable="<table class='showResult'>{content}</table>";var tHtml=[];for(var k=0;k < tReponses.length;k++){tHtml.push(formatReponseTD(tReponses[k].inputs,tReponses[k].points,sep,unite));}return tplTable.replace("{content}",tHtml.join("\n"));}function formatArray2(tReponses,sep='===>',unite="points"){var tplDblTable="<table><tr>{content}</tr></table>";var tplDblTD="<td><table class='showResult'>{content}</table></td>";var tplTD=`<tr><td>{word}</td><td>{sep}</td><td>{points}${quiz_messages.points}</td></tr>`;var tHtml=[];for(var j=0;j < tReponses.length;j++){var tTdHtml=[];for(var k=0;k < tReponses[j].length;k++){tTdHtml.push(tplTD.replace("{word}",tReponses[j][k].inputs).replace("{sep}",sep).replace("{points}",tReponses[j][k].points));}tHtml.push(tplDblTD.replace('{content}',tTdHtml.join("\n")));}return tplDblTable.replace("{content}",tHtml.join("\n"));}function sortArrayKey(KeyArr,order="ASC"){var tvk=[];var newKeyArray=[];const sep="_$_";for(var key in KeyArr){var newKey=(''+KeyArr[key]).padStart(5,'0').padEnd(25,'0')+sep+key;tvk.push(newKey)}tvk.sort();if(order[0].toUpperCase()!="A")tvk.reverse();for(var index in tvk){var t=tvk[index].split(sep);newKeyArray[t[1]]=KeyArr[t[1]];}return newKeyArray;}function sortArrayObject(arr,name,order="ASC"){var tvk=[];var newKeyArray=[];const sep="_$_";for(var index in arr){var newKey=(''+arr[index][name]).padStart(5,'0').padEnd(25,'+')+sep+index;tvk.push(newKey);}tvk.sort();if(order[0].toUpperCase()!="A")tvk.reverse();for(var index in tvk){var t=tvk[index].split(sep);newKeyArray.push(arr[t[1]*1]);}return newKeyArray;}function sortArrayKey2(KeyArr,name,order="ASC"){var tvk=[];var newKeyArray=[];const sep="_$_";for(var key in KeyArr){var newKey=(''+KeyArr[key][name]).padStart(5,'0').padEnd(25,'+')+sep+key;tvk.push(newKey);}tvk.sort();if(order[0].toUpperCase()!="A")tvk.reverse();for(var index in tvk){var t=tvk[index].split(sep);newKeyArray[t[1]]=KeyArr[t[1]];}return newKeyArray;}function sortArrayArray(arr,index2sort,order="ASC"){var tvk=[];var newArray=[];const sep="_$_";for(var k in arr){var newKey=(''+arr[k][index2sort]).padStart(5,'0').padEnd(25,'+')+sep+k.padStart(5,'0');tvk.push(newKey);}tvk.sort();if(order[0].toUpperCase()!="A")tvk.reverse();for(var index in tvk){var t=tvk[index].split(sep);newArray.push(arr[t[1]*1]);}return newArray;}function getRandomIntInclusive(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min+1))+min;}function sanityseTextForComparaison(exp,bolToLower=true){var regAccent;var car2rep;if(bolToLower){exp=exp.toLowerCase();}var reponse=exp.replaceAll("<br>","").replaceAll("\n","").replaceAll("\r","").trim();var cars2del=new RegExp('[\'\.\!\?\,\;-]','gi');reponse=reponse.replace(cars2del,"");regAccent=new RegExp('[àâä]','gi');car2rep='a';reponse=reponse.replace(regAccent,car2rep);regAccent=new RegExp('[éèêë]','gi');car2rep='e';reponse=reponse.replace(regAccent,car2rep);regAccent=new RegExp('[îï]','gi');car2rep='i';reponse=reponse.replace(regAccent,car2rep);regAccent=new RegExp('[ùüü]','gi');car2rep='u';reponse=reponse.replace(regAccent,car2rep);regAccent=new RegExp('[ôö]','gi');car2rep='o';reponse=reponse.replace(regAccent,car2rep);return reponse;}function requestGetPost(){var arr={};const paramsUrl=new URLSearchParams(window.location.search);quiz_request_keys.forEach((key)=>{obAtt=document.getElementById('user.'+key);if(obAtt){arr[key]=obAtt.value;}else{arr[key]=paramsUrl.get(key);}});if(!arr.uname)arr.uname="Anonymous";if(!arr.name)arr.name=arr.uname;if(!arr.ip)arr.ip="0.0.0.0";arr.isAnonymous=(arr.uname=="Anonymous");return arr;}function replaceBalisesByValues(exp,questId=0){var newExp=exp.replace("{repondu}",statsTotal.cumul_questions);newExp=newExp.replace("{totalQuestions}",statsTotal.quiz_questions);newExp=newExp.replace("{score}",statsTotal.cumul_score);newExp=newExp.replace("{scoreMaxiQQ}",statsTotal.quiz_score_max);newExp=newExp.replace("{scoreMiniQQ}",statsTotal.quiz_score_min);newExp=newExp.replace("{scoreMaxi}",statsTotal.quiz_score_max);newExp=newExp.replace("{scoreMini}",statsTotal.quiz_score_min);newExp=newExp.replace("{duree}",formatChrono(statsTotal.cumul_timer,"{minutes}minutes et{secondes}secondes"));quiz_request_keys.forEach((key)=>{newExp=newExp.replace(`{${key}}`,quiz_rgp[key]);});if(newExp.search('{sommaire}')>=0){newExp=newExp.replace("{sommaire}",get_sommaire(0));}if(newExp.search('{groups}')>=0){newExp=newExp.replace("{groups}",get_sommaire(1));}if(newExp.search('{allquestions}')>=0){newExp=newExp.replace("{allquestions}",get_sommaire(2,0));}if(newExp.search('{questions}')>=0){newExp=newExp.replace("{questions}",get_sommaire(2,questId));}return newExp;}function get_sommaire(selection=0,questId=0){var isGroup=false;var bolOk=true;var tRet=[];quizard.forEach((clQuestion,numSlide)=>{switch(selection){default:case 0:bolOk=true;break;case 1:bolOk=(!clQuestion.question.isQuestion);break;case 2:bolOk=(clQuestion.question.isQuestion &&(clQuestion.question.parentId==questId||questId==0));break;}if(bolOk){console.log("===> test:"+clQuestion.question.typeQuestion+"-"+clQuestion.question.question);var onClick=`onClick="gotoSlideNum(${numSlide});"`;var exp=`${numSlide}-${clQuestion.question.typeQuestion}-${clQuestion.sanityse_question()}`;if(clQuestion.question.isQuestion){var link=`<h2 ${onClick}>${exp}</h2>`}else{var link=`<h1 ${onClick}>${exp}</h1>`}tRet.push(link);}});console.log(tRet.join("<br>\n"));return "<div name='quiz_div_sommaire' class='quiz_sommaire'>"+tRet.join("<br>\n")+"</div>";}function get_sommaire2(groupOnly=true,questId=0){var isGroup=false;var bolOk=true;var tRet=[];quizard.forEach((clQuestion,numSlide)=>{isGroup=(clQuestion.question.typeQuestion=='pageBegin')||(clQuestion.question.typeQuestion=='pageEnd')||(clQuestion.question.typeQuestion=='pageGroup');console.log("===> test:"+clQuestion.question.typeQuestion+"-"+clQuestion.question.question);bolOk=((groupOnly && isGroup)||!groupOnly);if((isGroup||!groupOnly)||!groupOnly){var onClick=`onClick="gotoSlideNum(${numSlide});"`;var exp=`${numSlide}-${clQuestion.question.typeQuestion}-${clQuestion.sanityse_question()}`;if(isGroup){var link=`<h1 ${onClick}>${exp}</h1>`}else{var link=`<h2 ${onClick}>${exp}</h2>`}tRet.push(link);}});console.log(tRet.join("<br>\n"));return "<div name='quiz_div_sommaire' class='quiz_sommaire'>"+tRet.join("<br>\n")+"</div>";}function get_sommaire_old(groupOnly=true){var isGroup=false;var bolOk=true;var tRet=[];quizard.forEach((clQuestion,numSlide)=>{isGroup=(clQuestion.question.typeQuestion=='pageBegin')||(clQuestion.question.typeQuestion=='pageEnd')||(clQuestion.question.typeQuestion=='pageGroup');console.log("===> test:"+clQuestion.question.typeQuestion+"-"+clQuestion.question.question);bolOk=((groupOnly && isGroup)||!groupOnly);if((isGroup||!groupOnly)||!groupOnly){var onClick=`onClick="gotoSlideNum(${numSlide});"`;var exp=`${numSlide}-${clQuestion.question.typeQuestion}-${clQuestion.sanityse_question()}`;if(isGroup){var link=`<div class='quiz_sommaire_group' ${onClick}>${exp}</div>`}else{var link=`<div class='quiz_sommaire_question' ${onClick}>${exp}</div>`}tRet.push(link);}});console.log(tRet.join("<br>\n"));return "<div name='quiz_div_sommaire' class='quiz_sommaire'>"+tRet.join("<br>\n")+"</div>";}function getMarginStyle(nbItems,numStyle=0,extra='',min=2,max=8){var margin=Math.trunc((400-100-(10*nbItems))/(nbItems*2));margin=Math.min(Math.max(parseInt(margin),min),max);switch(numStyle){case 1:var strStyle=`style='line-height:${margin*3}px;${extra}' `;break;case 2:var strStyle=`style='padding:${margin}px;${extra}'`;break;default:var strStyle=`style='margin:${margin}px 10px ${margin}px 0px;${extra}' `;break;}return strStyle;}var pb={maxWidth:0,maxValue:250,value:0,itv:0};function pb_stop(){clearInterval(pb.itv);pb.itv=0;}function pb_runAuto(maxValue,newValue=0){pb_init(maxValue,newValue);pb_run();}function pb_run(){if(pb.itv==0){pb.itv=setInterval(pb_run,100);pb.value=0;return;}if(pb.value >=pb.maxValue){pb_stop();return;}pb.value+=1;if(pb.value >=pb.maxValue)stop();pb_showProgression();}function pb_init(maxValue,newValue=0){pb.maxValue=maxValue;pb.value=newValue;var obContenair=document.getElementById('pb_contenair');var obBase=document.getElementById('pb_base');var obText=document.getElementById('pb_text');pb.maxWidth=obContenair.offsetWidth-obText.offsetWidth-12;obBase.style.width=pb.maxWidth+'px';pb.value=newValue;pb_showProgression();}function pb_increment(){if(pb.value >=pb.maxValue){return;}pb.value+=1;pb_showProgression();}function pb_setValue(newValue){pb.value=newValue;pb_showProgression();}function pb_showProgression(){var obContenair=document.getElementById('pb_contenair');var obText=document.getElementById('pb_text');var obIndicator=document.getElementById('pb_indicator');var newWidth=pb.value/pb.maxValue*pb.maxWidth;obIndicator.style.width=newWidth+"px";obText.innerHTML=pb.value+'/'+pb.maxValue;}function blob(message){return true;if(!boolDog)return;if(Array.isArray(message)){console.log(`......................`);for(var i=0;i < t.length;i++){blob(`>array:${i}:${t[i]}`);}}else{console.log(">>> functions:"+message);}}function get_highslide_a(imgUrl,width='',height='',path='',lettrine=false){if(path){imgUrl=path+'/'+imgUrl;}var style="";if(width){style+=`max-width:${width}px;`;}if(height){style+=`max-height:${height}px;`;}if(style){style=`style='${style}'`;}if(lettrine){var divStyle="style='float:left;margin-right:10px;'";}else{var divStyle='';}var html=`<div class='highslide-gallery' ${divStyle}>`+`<a href='${imgUrl}' class='highslide' onclick='return hs.expand(this);'>`+`<img src='${imgUrl}' alt='' ${style}/>`+`</a></div>`;return html;}function toProperName(name){return name.charAt(0).toUpperCase()+name.substring(1).toLowerCase();}function getBoolBin(value,binOctet){return((value & binOctet)!=0);}function quiz_init_slist(target){target.classList.add("quiz_slist");let items=target.getElementsByTagName("li"),current=null;for(let i of items){i.draggable=true;i.ondragstart=e=>{current=i;for(let it of items){if(it!=current){it.classList.add("hint");}}};i.ondragenter=e=>{if(i!=current){i.classList.add("active");}};i.ondragleave=()=> i.classList.remove("active");i.ondragend=()=>{for(let it of items){it.classList.remove("hint");it.classList.remove("active");}};i.ondragover=e=> e.preventDefault();i.ondrop=e=>{e.preventDefault();if(i!=current){let currentpos=0,droppedpos=0;for(let it=0;it<items.length;it++){if(current==items[it]){currentpos=it;}if(i==items[it]){droppedpos=it;}}if(currentpos < droppedpos){i.parentNode.insertBefore(current,i.nextSibling);}else{i.parentNode.insertBefore(current,i);}}computeAllScoreEvent();};}}function gotoSlideNum(exp){console.log("gotoSlideNum=> "+exp);document.getElementById("quiz_goto_slide").value=exp;document.getElementById('quiz_btn_goto_slide').click();return true;}function setAllSepByNewSep(exp,newSep="|"){return exp.trim().replaceAll(';',newSep).replaceAll('-',newSep).replaceAll(',',newSep).replaceAll('|',newSep).replaceAll('/',newSep);}function splitAllSep(exp,newSep="|"){return setAllSepByNewSep(exp,newSep).split(newSep);}function set_param(exp,numParam=0){document.getElementById('quiz_data'+numParam).value=exp;return true;}function get_param(numParam=0){return document.getElementById('quiz_data'+numParam).value;}function strToArrayNum(strExp,sep=","){var strArr=strExp.split(sep);var intArr=new Int8Array(strArr.length);for(var i=0;i < strArr.length;i++){intArr[i]=strArr[i]*1;}return intArr;}function arrayToArrayNum(strArr){var intArr=new Int8Array(strArr.length);for(var i=0;i < strArr.length;i++){intArr[i]=strArr[i]*1;}return intArr;}